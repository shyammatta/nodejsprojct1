<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 style="color: rgb(195, 228, 241);font-family: Arial, Helvetica, sans-serif">hii</h1>



    create mployee

    logo
    

        <form onSubmit={handleSubmit} style={styles.form}>

  <table style={styles.table}>
  <thead style={styles.thead}>
    <tr style={styles.navbar} >
      <td colSpan='1' style={styles.th}></td>
      <td colSpan='1'onClick={() => navigate('/dashboard')} style={styles.navlinks}>Home</td>
      <td colSpan='7'onClick={() => navigate('/employee-list')} style={styles.navlinks}>Employee List</td>
      <td>{username}</td>
      <td onClick={() => handleLogout()}  style={styles.navlinks}>Logout</td>


    </tr>

    <tr style={styles.emps}>
      <td style={styles.td} colspan='6'>Employee List</td>
      <td colspan='5'></td>
    </tr>



    </thead>
    <tbody>
    <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}>Name</td>
      <td style={styles.inputs}><input 
        type="text" 
        name="name" 
        placeholder="Name" 
        value={formData.name} 
        onChange={handleChange} 
        required 
        style={styles.input}
      /></td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}>Email</td>
      <td style={styles.inputs}><input 
        type="email" 
        name="email" 
        placeholder="Email" 
        value={formData.email} 
        onChange={handleChange} 
        required 
        style={styles.input}
      /></td>
              <td style={styles.td}></td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}>Mobile No</td>
      <td style={styles.inputs   }>     <input 
        type="text" 
        name="mobile" 
        placeholder="Mobile Number" 
        value={formData.mobile} 
        onChange={handleChange} 
        style={styles.input}
      /></td>
              <td style={styles.td}></td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>

      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}>Designation</td>
      <td style={styles.inputs}>        <select 
        name="designation" 
        value={formData.designation} 
        onChange={handleChange} 
        required 
        style={styles.input}
      >
        <option value="">Select Designation</option>
        <option value="Developer">Developer</option>
        <option value="Manager">Manager</option>
        <option value="Designer">Designer</option>
        <option value="QA">QA</option>
      </select></td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}>Gender</td>
      <td  style={styles.inputs}><div style={styles.radioContainer}>
        <label>
          <input 
            type="radio" 
            name="gender" 
            value="Male" 
            checked={formData.gender === 'Male'} 
            onChange={handleChange} 
            required 
          /> Male
        </label>
        <label>
          <input 
            type="radio" 
            name="gender" 
            value="Female" 
            checked={formData.gender === 'Female'} 
            onChange={handleChange} 
            required 
          /> Female
        </label>
      </div></td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}>Course</td>
      <td  style={styles.inputs}><div style={styles.checkboxContainer}>
        <label>
          <input 
            type="checkbox" 
            name="courses" 
            value="React" 
            onChange={handleChange} 
          /> React
        </label>
        <label>
          <input 
            type="checkbox" 
            name="courses" 
            value="Node.js" 
            onChange={handleChange} 
          /> Node.js
        </label>
        <label>
          <input 
            type="checkbox" 
            name="courses" 
            value="MongoDB" 
            onChange={handleChange} 
          /> MongoDB
        </label>
      </div></td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}>Img Upload</td>
      <td style={styles.inputs}><input 
        type="file" 
        name="image" 
        accept="image/jpeg, image/png" 
        onChange={handleFileChange} 
        style={styles.input}
      /></td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.button}>        <button type="submit" style={styles.loginbutt}>Submit</button>
</td>
              <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
      <tr>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      <td style={styles.td}></td>
      </tr>
    
    

    </tbody>
  </table>
  </form>
</div>
);
}

const styles = {
container: {
},
emps:{
backgroundColor:'yellow',
border:'1px solid black',
borderCollapse:'collapse'
},
navbar: {
backgroundColor: 'skyblue',

},
user: {
marginLeft: '550px',
},
navlinks: {

cursor: 'pointer',
padding:'3px'
},



dashboard: {
fontSize: '20px',
backgroundColor: 'yellow',
padding: '5px',
},
table: {
width: '100%',
borderCollapse: 'collapse',
border: '2px solid black', // Add border to the table
},

empty:{
width:'100px'
},

thead: {
borderBottom: '1px solid black', // Add border below the header
},
tr: {
borderBottom: '1px solid black', // Add border to table rows
},
th: {
backgroundColor: 'skyblue',
width:'200px',
textAlign: 'left',
cursor:'pointer'

// borderCollapse: 'collapse',
// border: '1px solid black', // Add border to table rows
},
td:{
border:'0.2px solid rgb(195, 228, 241)',
borderCollapse:'collapse',
width:'100px',
height:'30px'


},
inputs:{
  border:'2px solid black',
  width:'300px'

  

},

input: { 

border:'none',
width:'99%',
height:'25px',
outline:'none',
fontSize:'16px'


},
button:{
  background:'green'
},
loginbutt:{
  background:'none',
  paddingLeft: '0px', 
fontSize: '18px', 
cursor: 'pointer' ,
border:'none',
color:'white',
width:'100%',
height:'100%',
fontFamily: 'Arial, Helvetica, sans-serif'
},




};








</body>
</html>

import React, { useState, useEffect } from 'react';
import axios from 'axios';
import { useNavigate, useParams } from 'react-router-dom';

function EditEmployee() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    mobile: '',
    designation: '',
    gender: '',
    courses: [],
    image: null,
  });

  const navigate = useNavigate();
  const { id } = useParams(); // Get employee ID from URL params

  // Fetch the employee data on component load
  useEffect(() => {
    axios.get(/api/employees/${id})
      .then((response) => {
        // Pre-fill the form with existing data
        const employee = response.data;
        setFormData({
          name: employee.name,
          email: employee.email,
          mobile: employee.mobile,
          designation: employee.designation,
          gender: employee.gender,
          courses: employee.courses,
          image: employee.image, // This can be a URL or path to the image
        });
      })
      .catch((error) => {
        console.error('Error fetching employee data', error);
      });
  }, [id]);

  // Handle form submission
  const handleSubmit = (e) => {
    e.preventDefault();

    // Send updated data to backend
    axios.put(/api/employees/edit/${id}, formData)
      .then((response) => {
        console.log('Employee updated:', response.data);
        navigate('/employees'); // Redirect to employee list after edit
      })
      .catch((error) => {
        console.error('Error updating employee', error);
      });
  };

  // Handle input changes
  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData((prev) => ({
      ...prev,
      [name]: value,
    }));
  };

  // Handle courses checkbox changes
  const handleCourseChange = (e) => {
    const { value } = e.target;
    setFormData((prev) => {
      const newCourses = prev.courses.includes(value)
        ? prev.courses.filter((course) => course !== value)
        : [...prev.courses, value];
      return { ...prev, courses: newCourses };
    });
  };

  // Handle image file input change
  const handleImageChange = (e) => {
    setFormData((prev) => ({ ...prev, image: e.target.files[0] }));
  };

  return (
    <form onSubmit={handleSubmit}>
      <div>
        <label>Name:</label>
        <input
          type="text"
          name="name"
          placeholder="Name"
          value={formData.name}
          onChange={handleChange}
          required
        />
      </div>

      <div>
        <label>Email:</label>
        <input
          type="email"
          name="email"
          placeholder="Email"
          value={formData.email}
          onChange={handleChange}
          required
        />
      </div>

      <div>
        <label>Mobile:</label>
        <input
          type="text"
          name="mobile"
          placeholder="Mobile"
          value={formData.mobile}
          onChange={handleChange}
          required
        />
      </div>

      <div>
        <label>Designation:</label>
        <select
          name="designation"
          value={formData.designation}
          onChange={handleChange}
          required
        >
          <option value="">Select Designation</option>
          <option value="Developer">Developer</option>
          <option value="Manager">Manager</option>
          <option value="Designer">Designer</option>
          {/* Add other options as necessary */}
        </select>
      </div>

      <div>
        <label>Gender:</label>
        <input
          type="radio"
          name="gender"
          value="Male"
          checked={formData.gender === 'Male'}
          onChange={handleChange}
        /> Male
        <input
          type="radio"
          name="gender"
          value="Female"
          checked={formData.gender === 'Female'}
          onChange={handleChange}
        /> Female
      </div>

      <div>
        <label>Courses:</label>
        <input
          type="checkbox"
          value="React"
          checked={formData.courses.includes('React')}
          onChange={handleCourseChange}
        /> React
        <input
          type="checkbox"
          value="Node"
          checked={formData.courses.includes('Node')}
          onChange={handleCourseChange}
        /> Node
        {/* Add more courses as needed */}
      </div>

      <div>
        <label>Upload Image:</label>
        <input
          type="file"
          accept=".jpg,.png"
          onChange={handleImageChange}
        />
      </div>

      <button type="submit">Update Employee</button>
    </form>
  );
}

export default EditEmployee;




